REM 5_CURSOR_ATT_IMP.SQL
SET SERVEROUTPUT ON

BEGIN
	-- 첫번째 DELETE
	DELETE FROM EMP WHERE SAL >2000;
	DBMS_OUTPUT.PUT_LINE('[1-DELETE]'||TO_CHAR(SQL%ROWCOUNT)||'ROWS IS DELETED');

	IF SQL%FOUND THEN
		DBMS_OUTPUT.PUT_LINE('SQL%FOUND=TRUE ');
	ELSE
		DBMS_OUTPUT.PUT_LINE('SQL%NOTFOUND = FALSE ');
	END IF;
	
	DBMS_OUTPUT.PUT_LINE('-------------------------------------------------');	
	
	-- 두번째 DELETE : 동일한 DELETE를 2번째 실행 삭제할 데이터가 없음
	DELETE FROM EMP WHERE SAL >2000;
	DBMS_OUTPUT.PUT_LINE('[2-DELETE]'||TO_CHAR(SQL%ROWCOUNT)||'ROWS IS DELETED');

	IF SQL%FOUND THEN
		DBMS_OUTPUT.PUT_LINE('SQL%FOUND = TRUE');
	ELSE
		DBMS_OUTPUT .PUT_LINE('SQL%NOTFOUND = FALSE');
	END IF;
	ROLLBACK;
END;
/
	