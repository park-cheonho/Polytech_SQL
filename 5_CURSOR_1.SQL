DECLARE
	CURSOR CUR_EMP IS
		SELECT EMPNO,JOB,SAL,COMM FROM EMP WHERE DEPTNO = 10;
	V_ENAME VARCHAR2(10);
	V_JOB	VARCHAR2(9);
	V_SAL	NUMBER(7,2);
	V_COMM NUMBER(7,2);

BEGIN
	OPEN CUR_EMP;
	LOOP
		FETCH CUR_EMP INTO V_ENAME,V_JOB,V_SAL,V_COMM;
		EXIT WHEN CUR_EMP%NOTFOUND;

		INSERT INTO BONUS(ENAME,JOB,SAL,COMM)
			VALUES(V_ENAME,V_JOB,V_SAL,V_COMM);
	END LOOP;
	DBMS_OUTPUT.PUT_LINE('TOTAL '||TO_CHAR(CUR_EMP%ROWCOUNT)||'ROWS PROCESSED');
	CLOSE CUR_EMP;
	COMMIT;
END;
/
