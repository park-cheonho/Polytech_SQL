DECLARE
	CURSOR CUR_EMP IS
		SELECT ENAME,JOB,SAL,COMM FROM EMP WHERE DEPTNO = 10;
	V_ENAME EMP.ENAME%TYPE;
	V_JOB	EMP.JOB%TYPE;
	V_SAL	EMP.SAL%TYPE;
	V_COMM EMP.COMM%TYPE;

BEGIN
	OPEN CUR_EMP;
	LOOP
		FETCH CUR_EMP INTO V_ENAME,V_JOB,V_SAL,V_COMM;
		EXIT WHEN CUR_EMP%NOTFOUND;

		INSERT INTO BONUS(ENAME,JOB,SAL,COMM)
			VALUES(V_ENAME,V_JOB,V_SAL,V_COMM);
	END LOOP;
	DBMS_OUTPUT.PUT_LINE('TOTAL '||TO_CHAR(CUR_EMP%ROWCOUNT)||'ROWS PROCESSED');
	CLOSE CUR_EMP;
	COMMIT;
END;
/
